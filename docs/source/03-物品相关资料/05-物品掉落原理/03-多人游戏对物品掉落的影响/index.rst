.. _多人游戏对物品掉落的影响:

多人游戏对物品掉落的影响
===============================================================================
游戏人数的增加并不会增大魔法装备的出现几率. 人数的增加会明显地减小怪物不掉物品的几率.

拿Hell Bovine(任何难度)为例,它的TC有160个选择,其中100个为Nodrop,其余60个为各个物品和次级TC.单人game中Cow的 NodropChance = 100 / 160 = 0.625.多人情况下直接影响的就是这个Chance.

设::

	N1 = 与杀Monster的Player结盟且在同一场景以内的其他Player数.
	N 2 =不符合上述条件的其他Player数
	C = 单人game Monster的Nodrop chance(for Hell Bovine, C=100/160)
	Cm = C被多人游戏影响后的值.

	则: Cm=C^[1+N1+N2*0.5] 其中"[]"表示舍尾取整,^表示幂操作。

	可以注意到Cm是个小数,由于game采用的是整数依赖的选择机制,所以要将Cm换算成新的Nodrop几率参数(原来是100)后TC才做选择.
	Nodrop参数 (new) = [ Drop几率参数总和 * Cm / (1 - Cm)]
	对Cow而言Nodrop参数(new)=[60*Cm/(1-Cm)].
	如果在game中有2个Player与杀Cow的Player结盟且在同一场景(N1=2), 而其他有5个Player在别处或没结盟(N2=5).
	则有: Cm = (100 / 160) ^ [1 + 2 + 5 * 0.5] = 0.625 ^ 5 = 0.09537,
	新的Nodrop参数 = [60 * Cm / (1 - Cm)] = 6,则

	NoDrop' Gold TC1 TC2 TC3 Total
	Cow 6   19   19  19  3   66
	此时的Nodrop Chance=6/66=0.09091,被降低效果极其明显.

	一般Champion,Unique的Nodrop=0,故游戏人数多少对它们的Drop几率无任何影响(100% drop something).比如Cow King,Pindleskin.
	Bar的Find Item将屏蔽尸体TC的NoDrop,所以翻尸体也不受游戏人数的影响.

对于同一场景的定义：

同处在一个地图内的均算同一场景，不论是否在两屏以内。

若不在同一地图，则即使在两屏以内，也不算同一场景。

举例来说，A和B同处在鲜血荒地，则属于同一场景。若A处于鲜血荒地，B处于冰冷之原、或者罗格营地、或者邪恶洞窟，则均不算同一场景。

另：若某玩家挂了不复活，则不会对物品掉落产生影响。换句话说，挂了不复活，不计入人数之内

**特殊情况：游戏为1PP时先把怪物都去看一遍，确定为1PP难度（小地图上出现过的怪物）。此时再进入其他人物，Nodrop率如何计算**？

1. 被确定的怪物，生命/经验值/伤害等等数值，均已固定为单人难度，不再变化。

2. 被确定过，但又离开确定怪物难度的人物视野中的怪物。再进入其他角色时，该怪物的Nodrop率按照多人难度计算。计算方法见上。

3. 被确定过，但在进入其他角色时，仍然在第一个角色视野范围内的怪物。该怪物的Nodrop率依然按照单人难度计算。